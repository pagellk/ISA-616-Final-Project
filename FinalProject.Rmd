---
title: "ISA 616 Final Project"
author: "Andrew Edwards, Nick Oakley, and Lauren Pagel"
date: "`r Sys.Date()`"
output:
  html_document:
      toc: yes
      toc_depth: 4
      toc_float:
        collapse: no
        smooth_scroll: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
if(require(pacman)==FALSE) install.packages("pacman")
pacman::p_load(DataExplorer, # For explorer and cleaning data by visualizing missing values.
               httr, # For downloading the data from the UCI
               tidyverse, # For data manipulation
               corrplot, # for heatmaps
               DataExplorer, #for exploring data
               skimr, # for nice summary of data
               readxl, #to read Excel files
               networkD3 # to create a Sankey Plot
               ) # For creating dummy variables of categorical variables automatically.)
library(dplyr)
```

# Problem Statement
The ISA department has multiple classes of students each year. However, each year the number of students who graduate as seniors with their undergraduate does not align with the number of students in the major the previous year. Our primary goal with this project is to restructure and classify the students in a way that the department can accurately anticipate for the correct number of graduates the year before. Secondly, along with graduation, we have been asked to research the data and understand where these students are going, what are the leading causes of students leaving, and to redesign the classification metrics for grade level.

# Research Questions
* Why are there fewer graduating seniors than estimated each year, and what is the cause for this drop-off?
  * Where are these students going?
* What is the best way to classify student grade levels?
* Are there indicators that can show when we estimate a student is about to graduate? We can look at number of credit hours, semesters at Miami, course performance and more.

# Business Value Proposition
```{r, echo=FALSE}
knitr::include_graphics('616 Final Project BVP.png')
```

## Customer Jobs

Our client for this project is the Information Systems and Analytics department at Miami, but more specifically, Dr. Benamati and Dr. Farmer. These two have a very important role in the ISA department to monitor the health of the organization and to appropriate allocate resources based on needs.

### Monitor the Overall Health of the Information Systems and Analytics Department as it Pertains to Departmental Entrollment

As the chairs of the department, Dr. Benamati and Dr. Farmer are tasked with monitoring the overall health and performance of the Information Systems and Analytics department. This can include monitoring departmental enrollment as it pertains to showing the amount of students who enter into ISA majors as freshmen, retention within the department, and ultimately, how many students graduate with a degree from the department. This health ultimately helps Dr. Benamati and Dr. Farmer argue for the case of the ISA department during the State of the Department and can help the department grow over time.

### Allocate Resources Appropriately Depending on the Size and Performance of the Department

Based on the health that is monitored from the department, Dr. Benamati and Dr. Farmer are tasked with allocating resources appropriately. This can include increasing the number of professors or course sections offered depending on the amount of ISA majors that are enrolled. 

## Customer Pains

### Lack of Clarity of BA/ISA Student Grade Classification and Expected Graduating Students
Student classification of grades has led to inaccurate data regarding the number of expected graduates. 

### Difficulty Understanding Departmental Enrollment
Due to misclassifications and other factors, there are inaccuracies that misrepresent the true enrollment of the ISA department

### Unclear Presentation of Data
The current table that is used to present enrollment data can be confusing and inaccurate.

## Customer Gains

### Be Able to Understand How Students are Classified as Freshmen, Sophomores, etc. in the Data Set
With the current data set, the current classification of grades has led to inaccurate data reporting when it comes to anticipating the number of graduates within the data set.

### Better Understand what Factors May Influence Departmental Enrollment in the ISA Department as Well as Where they Go if they Change their Major
Within the current data set, there is no way to estimate when a student is about to exit the ISA department, whether that be because they are about to graduate or because they are changing their major. Thus, it makes it difficult for the ISA department to allocate their resources to maximize student benefit.

## Products and Services

### Providing a New Classification Metric for Grade Level of Students (Freshman, Sophomore, etc.)
Take more factors into account to better determine expected graduation of students. Current method of classification by number of credit hours does not best reflect student year and expected graduation.

### Providing Insight for Departmental Enrollment Numbers and Graduation Rates
Better indicate when a student is about to graduate from the ISA department so that resources can be allocated effectively.

### Providing a More Informative Presentation of Department Enrollment Numbers
The current matrix visual within the State of the Department Presentation can be hard for a non-analytical audience to read to understand the enrollment numbers problem easily.

## Pain Relievers

### Accurate Grade Classification that Reflects Expected Graduation
With the current state of the data, the actual number of graduating seniors is less than the anticipated amount in the previous year. Through our work, we seek to relieve this pain to account for anticipated early graduations, transfers, etc. We also seek to find a better way to classify student grades rather than solely by number of credit hours taken.

### Greater Insights Into True Enrollment Numbers for the ISA Department
Through our solution, we will provide the ISA department with a more accurate reporting for the ISA department so that they are able to allocate resources and budget effectively for the upcoming year.

### Clear Presentation of the State of the Department
Through our solution, we will prepare a more effective presentation of the ISA department's numbers in the State of the Department presentation. This information will be well organized in a way that those who do not have a strong background in analytics are still able to obtain valuable insights.

## Gain Creators

### More Dedicated Resources Towards Retaining Students in the ISA Department
Our solution will give the ISA department the information they need to better plan for the upcoming year by providing estimates of the number of students that will come through the department and eventually graduate each year. This will allow both Dr. Benamati and Dr. Farmer to spend less time on this administrative task and instead on preparing for the longevity of the department.

### Better Classification System to Understand the Ages of Students and When They Are Likely to Graduate
Our solution will provide the ISA department with a better system to classify students by their grade level so they can better understand and predict the number of students who will graduate from the department.

# Timeline for Completion

1. Draft of Problem Statement - 
Due with checkpoint 1 materials on November 4th. Responsible stakeholder: Nick Oakley.

2. Develop Research Questions - 
Due with checkpoint 1 materials on November 4th. Responsible stakeholder: Andrew Edwards.

3. Business Value Propositions - 
Due with checkpoint 1 materials on November 4th. Responsible stakeholder: Lauren Pagel.

4. Upload Data into Document - 
Do by the EOD on November 5th after class. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

5. Clean Dataset - 
Work on in class on November 5th and 7th, finish by November 10th. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

6. Merge Datasets Together - 
Turned in with Project #2 Checkpoint on 11/17. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

7. Develop Metric to Count the Number of Students for Each Grade Level - 
Work on during class on 11/19 and 11/21. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

8. Begin Building Visualizations - 
Build out by the end of the week on 11/22. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

9. Draft of Final Presentation Slides - 
Have draft done by 11/26 before Thanksgiving Break. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

10. Draft Technical Report - 
Have draft done by 11/26 before Thanksgiving Break. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

11. Revise Technical Report - 
Finish revisions by 12/3. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

12. Revise Final Presentation Slides - 
Finish revisions by 12/3. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

13. Submit Final Slides and Technical Report - 
Submit by EOD December 5th. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

14. Deliver Final Presentation - 
Present week of December 3rd. Responsible stakeholder: Andrew Edwards, Nick Oakley, Lauren Pagel.

# Deliverables

## Full Technical Report

This report will be submitted by 11:59pm on December 5th. This report will detail information about our data, cleaning process, results, and limitations of the data. The goal of this report is to explain our processes in a way that provides explicit clarity and resembles the characteristics of a reproducible data analysis.

## Presentation Slides

Another aspect of our project that we will deliver are our presentation slides, as well as our presentation. These will also be due by 11:59pm on December 5th, although our presentation may fall earlier. The goal of this presentation is to clearly articulate our findings to our audience and visualize the data in a way that is easy for someone with a non-technical background to understand.

## Reproducible Data Analysis

Along with our technical report and presentation, we will also submit a fully reproducible data analysis. This is so that as more students come through the department, this analysis will be able to rerun for new sets of students.

# Analysis
## BA Majors

### Counts of BA Students Across Cohort and Term Code
To begin our analysis, I am interested in looking at the raw counts of students enrolled in the BA major across different cohort terms and term codes in which they are enrolled at Miami. This code will filter my table for students who have BA Major indicated for at least one of their majors across different semesters for students in a particular cohort term. Below is our code output. Moving forward with analysis, I would be interested in showing how the number of students who graduated each semester could be implemented with this as we work to reclassify students.
```{r, echo=FALSE}
BA = read.csv('data-clean/BA_Final.csv')
result <- BA |>
  dplyr::filter(`Major.1` == "BA Major" | `Major.2` == "BA Major" | `Major.3` == "BA Major") |>
  dplyr::group_by(`Cohort.Term`, `Term.Code`) |>
  dplyr::summarize(Num_Students = n_distinct(`Student.ID`), .groups = 'drop')


# Display the reshaped table
print(result)

```

### Graduation Counts for BA Majors
This preliminary analysis shows the number of students from each cohort term who graduated each semester. From first looks, I notice that most students graduate during the spring of their senior year. That said, I will need to go back and look at this analysis, because I think something for students who graduated is off as there appears to be an abnormal number of students graduating this semester.
```{r, echo =FALSE}
# Determine the maximum Term.Code for each Student.ID to identify the graduation term
graduation_terms <- BA |>
  dplyr::group_by(`Student.ID`) |>
  dplyr::summarize(Max_Term_Code = max(`Term.Code`), .groups = 'drop')

# Filter the original data to only include rows where the Term.Code is the graduation term
graduated_students <- BA |>
  dplyr::inner_join(graduation_terms, by = c("Student.ID" = "Student.ID", "Term.Code" = "Max_Term_Code")) |>
  dplyr::filter(
    `Graduated` == 1,
    `Major.1` == "BA Major" | `Major.2` == "BA Major" | `Major.3` == "BA Major"
  )

# Count the number of students who graduated each semester for each Term.Code
result <- graduated_students |>
  dplyr::group_by(`Cohort.Term`, `Term.Code`) |>
  dplyr::summarize(Num_Graduated = dplyr::n_distinct(`Student.ID`), .groups = 'drop')

result
```


## IS Majors

### Counts of IS Students Across Cohort and Term Code
To initially explore the IS Major dataset, I wanted to look at the raw counts of students enrolled in the IS major across different cohort terms and term codes in which they are enrolled at Miami. This code will filter my table for students who have an IS Major indicated for at least one of their majors across different semesters for students in a particular cohort term. Below is our code output. Moving forward with analysis, I would be interested in showing how the number of students who graduated each semester could be implemented with this as we work to reclassify students.
```{r, echo=FALSE}
IS = read.csv('data-clean/IS_Final.csv')
result <- BA |>
  dplyr::filter(
    `Major.1` %in% c("IS Major", "Cybersecurity Mgt Major") |
    `Major.2` %in% c("IS Major", "Cybersecurity Mgt Major") |
    `Major.3` %in% c("IS Major", "Cybersecurity Mgt Major")
  ) |>
  dplyr::group_by(`Cohort.Term`, `Term.Code`) |>
  dplyr::summarize(Num_Students = n_distinct(`Student.ID`), .groups = 'drop')


# Display the reshaped table
print(result)
```

### Graduation Counts for IS Majors
This preliminary analysis shows the number of IS Major students from each cohort term who graduated each semester. From first looks, I notice that most students graduate during the spring of their senior year. That said, I will need to go back and look at this analysis, because I think something for students who graduated is off as there appears to be an abnormal number of students graduating this semester.
```{r, echo=FALSE}
# Determine the maximum Term.Code for each Student.ID to identify the graduation term
graduation_terms <- IS |>
  dplyr::group_by(`Student.ID`) |>
  dplyr::summarize(Max_Term_Code = max(`Term.Code`), .groups = 'drop')

# Filter the original data to only include rows where the Term.Code is the graduation term
graduated_students <- IS |>
  dplyr::inner_join(graduation_terms, by = c("Student.ID" = "Student.ID", "Term.Code" = "Max_Term_Code")) |>
  dplyr::filter(
    `Graduated` == 1,
    `Major.1` %in% c("IS Major", "Cybersecurity Mgt Major") |
    `Major.2` %in% c("IS Major", "Cybersecurity Mgt Major") |
    `Major.3` %in% c("IS Major", "Cybersecurity Mgt Major")
  )

# Count the number of students who graduated each semester for each Term.Code
result <- graduated_students |>
  dplyr::group_by(`Cohort.Term`, `Term.Code`) |>
  dplyr::summarize(Num_Graduated = dplyr::n_distinct(`Student.ID`), .groups = 'drop')

result
```

# Next Steps
Now that we officially have our data sets cleaned and merged, we are ready to do some analyses on our data.

In our current file, we have data grouped by Cohort Term for both our BA and IS data sets. A student’s cohort term indicates the first semester in which they started at Miami, while the Term Code indicates each semester that a student has been enrolled in the university.

To further our analysis, we would like to track the number of students from each cohort who have graduated each semester. This will give us a better indication of if/when a student is about to graduate and may lead to a better classification system as to how we can group students by their grade level, leading to more valuable information for the department.

In terms of classifying students by grade level, the BannerWeb system currently works to classify students in terms of number of cumulative credit hours. This has lead to some discrepancy in reporting, so our group is more interested in considering the number of semesters a student has completed at Miami when considering their classification in the system. With many students in FSB having to take business core classes that are usually not offered as a transfer credit option, this may be a better way to classify students. We can also consider aspects such as cumulative credit hours and GPA that are within our dataset to flag potentially high performing students who may be on the cusp of graduating early. Looking at these factors also may be useful to predict if a student may need to take an additional semester, or if they may be more likely to drop the major.

In addition to a grade classification system, we will work to develop an effective way to visualize enrollment across the BA and IS departments. While developing the classification system is our top priority, we would like to also explore factors that may lead to a change in major for students to help the department better prioritize.

